<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dịch Vụ Du Lịch - Nha Trang</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/services.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <img src="images/logo.png" alt="Du Lịch Nha Trang">
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Trang Chủ</a></li>
                    <li><a href="destinations.html">Điểm Đến</a></li>
                    <li><a href="cuisine.html">Ẩm Thực</a></li>
                    <li><a href="services.html" class="active">Dịch Vụ</a></li>
                    <li><a href="booking.html">Đặt Chỗ</a></li>
                </ul>
            </nav>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Tìm kiếm...">
                <button id="search-button"><i class="fas fa-search"></i></button>
            </div>
        </div>
    </header>

    <section class="page-banner">
        <div class="container">
            <h1>Dịch Vụ Du Lịch</h1>
            <p>Khám phá các dịch vụ du lịch chất lượng tại Nha Trang</p>
        </div>
    </section>

    <section class="tours">
        <div class="container">
            <h2>Tour Du Lịch</h2>
            <div class="filter-container">
                <label for="tour-filter">Lọc theo loại:</label>
                <select id="tour-filter">
                    <option value="all">Tất cả các tour</option>
                    <option value="island">Tour đảo</option>
                    <option value="city">Tour thành phố</option>
                    <option value="adventure">Tour mạo hiểm</option>
                    <option value="luxury">Tour cao cấp</option>
                </select>
            </div>
            <div class="tours-grid" id="tours-container">
                <!-- Tour items will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <section class="vehicle-rental">
        <div class="container">
            <h2>Dịch Vụ Thuê Xe</h2>
            <div class="filter-container">
                <label for="vehicle-filter">Lọc theo loại:</label>
                <select id="vehicle-filter">
                    <option value="all">Tất cả phương tiện</option>
                    <option value="motorbike">Xe máy</option>
                    <option value="car">Ô tô</option>
                    <option value="bicycle">Xe đạp</option>
                    <option value="boat">Thuyền</option>
                </select>
            </div>
            <div class="vehicles-grid" id="vehicles-container">
                <!-- Vehicle items will be loaded by JavaScript -->
            </div>
        </div>
    </section>

    <section class="experience-sharing">
        <div class="container">
            <h2>Chia Sẻ Kinh Nghiệm</h2>
            <div class="sharing-container">
                <form class="sharing-form" id="sharing-form">
                    <div class="form-group">
                        <label for="share-name">Tên của bạn</label>
                        <input type="text" id="share-name" required>
                    </div>
                    <div class="form-group">
                        <label for="share-email">Email</label>
                        <input type="email" id="share-email" required>
                    </div>
                    <div class="form-group">
                        <label for="share-place">Địa điểm đã tham quan</label>
                        <input type="text" id="share-place" required>
                    </div>
                    <div class="form-group">
                        <label for="share-rating">Đánh giá</label>
                        <div class="rating-stars" id="rating-stars">
                            <i class="far fa-star" data-rating="1"></i>
                            <i class="far fa-star" data-rating="2"></i>
                            <i class="far fa-star" data-rating="3"></i>
                            <i class="far fa-star" data-rating="4"></i>
                            <i class="far fa-star" data-rating="5"></i>
                        </div>
                        <input type="hidden" id="share-rating" value="0">
                    </div>
                    <div class="form-group">
                        <label for="share-experience">Chia sẻ kinh nghiệm của bạn</label>
                        <textarea id="share-experience" rows="5" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="share-image">Thêm hình ảnh (tùy chọn)</label>
                        <input type="file" id="share-image" accept="image/*">
                        <div id="image-preview" class="image-preview"></div>
                    </div>
                    <button type="submit" class="btn">Gửi chia sẻ</button>
                </form>
            </div>
        </div>
    </section>

    <section class="reviews">
        <div class="container">
            <h2>Đánh Giá Từ Du Khách</h2>
            <div class="reviews-filter">
                <button class="filter-btn active" data-filter="all">Tất cả</button>
                <button class="filter-btn" data-filter="5">5 sao</button>
                <button class="filter-btn" data-filter="4">4 sao</button>
                <button class="filter-btn" data-filter="3">3 sao trở xuống</button>
            </div>
            <div class="reviews-container" id="reviews-container">
                <!-- Review items will be added here -->
                <div class="review-item">
                    <div class="review-header">
                        <span class="reviewer">Nguyễn Văn A</span>
                        <span class="review-date">15/06/2023</span>
                    </div>
                    <div class="review-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="review-content">
                        <p>Tour 4 đảo thật tuyệt vời! Hướng dẫn viên nhiệt tình, cảnh đẹp, đồ ăn ngon. Đặc biệt là hoạt động lặn biển ngắm san hô rất thú vị. Sẽ quay lại vào lần sau!</p>
                    </div>
                </div>
                <div class="review-item">
                    <div class="review-header">
                        <span class="reviewer">Trần Thị B</span>
                        <span class="review-date">20/05/2023</span>
                    </div>
                    <div class="review-rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <div class="review-content">
                        <p>Thuê xe máy ở đây rất thuận tiện, giá cả hợp lý và xe chất lượng tốt. Nhân viên nhiệt tình hướng dẫn các địa điểm du lịch xung quanh. Tuy nhiên, nên đặt trước vì vào mùa cao điểm rất đông.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <h3>Về Chúng Tôi</h3>
                    <p>Chúng tôi cung cấp thông tin du lịch chính xác và hấp dẫn về Nha Trang, giúp bạn có những trải nghiệm tuyệt vời nhất tại thiên đường biển này.</p>
                </div>
                <div class="footer-section contact">
                    <h3>Liên Hệ</h3>
                    <p><i class="fas fa-phone"></i> +84 123 456 789</p>
                    <p><i class="fas fa-envelope"></i> info@dulichnhatrang.com</p>
                </div>
                <div class="footer-section social">
                    <h3>Theo Dõi</h3>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Du Lịch Nha Trang. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/search.js"></script>
    <script src="js/services.js"></script>
    <script>
        // Rating stars functionality
        document.addEventListener('DOMContentLoaded', function() {
            const stars = document.querySelectorAll('.rating-stars i');
            const ratingInput = document.getElementById('share-rating');
            
            stars.forEach(star => {
                star.addEventListener('click', function() {
                    const rating = this.getAttribute('data-rating');
                    ratingInput.value = rating;
                    
                    // Update stars display
                    stars.forEach(s => {
                        const sRating = s.getAttribute('data-rating');
                        if (sRating <= rating) {
                            s.className = 'fas fa-star';
                        } else {
                            s.className = 'far fa-star';
                        }
                    });
                });
                
                star.addEventListener('mouseover', function() {
                    const rating = this.getAttribute('data-rating');
                    
                    // Update stars display on hover
                    stars.forEach(s => {
                        const sRating = s.getAttribute('data-rating');
                        if (sRating <= rating) {
                            s.className = 'fas fa-star';
                        } else {
                            s.className = 'far fa-star';
                        }
                    });
                });
            });
            
            // Reset stars to selected rating when mouse leaves the container
            document.querySelector('.rating-stars').addEventListener('mouseleave', function() {
                const rating = ratingInput.value;
                
                stars.forEach(s => {
                    const sRating = s.getAttribute('data-rating');
                    if (sRating <= rating) {
                        s.className = 'fas fa-star';
                    } else {
                        s.className = 'far fa-star';
                    }
                });
            });
            
            // Image preview functionality
            const imageInput = document.getElementById('share-image');
            const imagePreview = document.getElementById('image-preview');
            
            imageInput.addEventListener('change', function() {
                imagePreview.innerHTML = '';
                
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        imagePreview.appendChild(img);
                        
                        const removeBtn = document.createElement('button');
                        removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                        removeBtn.className = 'remove-image';
                        removeBtn.addEventListener('click', function(e) {
                            e.preventDefault();
                            imagePreview.innerHTML = '';
                            imageInput.value = '';
                        });
                        
                        imagePreview.appendChild(removeBtn);
                    }
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
            
            // Handle form submission
            document.getElementById('sharing-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (ratingInput.value === '0') {
                    alert('Vui lòng đánh giá trải nghiệm của bạn');
                    return;
                }
                
                // Add the new review to the reviews container
                addNewReview();
                
                alert('Cảm ơn bạn đã chia sẻ kinh nghiệm!');
                this.reset();
                ratingInput.value = '0';
                imagePreview.innerHTML = '';
                
                // Reset stars
                stars.forEach(s => {
                    s.className = 'far fa-star';
                });
            });
            
            // Filter reviews
            const filterButtons = document.querySelectorAll('.reviews-filter .filter-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Filter reviews
                    filterReviews(filter);
                });
            });
            
            // Load more reviews
            document.getElementById('load-more-reviews').addEventListener('click', loadMoreReviews);
        });
        
        // Add new review from form submission
        function addNewReview() {
            const name = document.getElementById('share-name').value;
            const place = document.getElementById('share-place').value;
            const rating = document.getElementById('share-rating').value;
            const experience = document.getElementById('share-experience').value;
            const imagePreview = document.getElementById('image-preview');
            
            // Create new review element
            const reviewItem = document.createElement('div');
            reviewItem.className = 'review-item';
            reviewItem.setAttribute('data-rating', rating);
            
            // Get current date
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = now.getFullYear();
            const dateStr = `${day}/${month}/${year}`;
            
            // Generate stars HTML
            let starsHTML = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    starsHTML += '<i class="fas fa-star"></i>';
                } else {
                    starsHTML += '<i class="far fa-star"></i>';
                }
            }
            
            // Create review HTML
            reviewItem.innerHTML = `
                <div class="review-header">
                    <span class="reviewer">${name}</span>
                    <span class="review-date">${dateStr}</span>
                </div>
                <div class="review-place">${place}</div>
                <div class="review-rating">
                    ${starsHTML}
                </div>
                <div class="review-content">
                    <p>${experience}</p>
                </div>
            `;
            
            // Add image if uploaded
            if (imagePreview.querySelector('img')) {
                const reviewImage = document.createElement('div');
                reviewImage.className = 'review-image';
                reviewImage.innerHTML = `<img src="${imagePreview.querySelector('img').src}" alt="User uploaded image">`;
                reviewItem.appendChild(reviewImage);
            }
            
            // Add the new review to the top of the list
            const reviewsContainer = document.getElementById('reviews-container');
            reviewsContainer.insertBefore(reviewItem, reviewsContainer.firstChild);
        }
        
        // Filter reviews based on rating
        function filterReviews(filter) {
            const reviews = document.querySelectorAll('.review-item');
            
            reviews.forEach(review => {
                const rating = parseInt(review.getAttribute('data-rating') || '5');
                
                if (filter === 'all' || 
                    (filter === '5' && rating === 5) || 
                    (filter === '4' && rating === 4) || 
                    (filter === '3' && rating <= 3)) {
                    review.style.display = 'block';
                } else {
                    review.style.display = 'none';
                }
            });
        }
        
        // Load more reviews function
        function loadMoreReviews() {
            // In a real application, this would fetch more reviews from a server
            // For now, we'll just show a message
            alert('Đã tải tất cả đánh giá hiện có.');
        }
    </script>
</body>
</html>